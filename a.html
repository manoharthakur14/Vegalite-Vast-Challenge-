<!DOCTYPE html>
<head>
        <title>Vast Challenge</title>
        <meta charset="utf-8">
      
        <script src="https://cdn.jsdelivr.net/npm/vega@4.3.0/build/vega.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc8/build/vega-lite.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-embed@3.20.0/build/vega-embed.js"></script>
      
        <style media="screen">
          /* Add space between Vega-Embed links  */
          .vega-actions a {
            margin-right: 5px;
          }
        </style>
        <style>.vega-actions {display: none}</style>
      </head>
      <body>
          <style>.vega-actions {display: none}</style>
       
  <h3>Questions<h3>
      <p>1.Characterize the past and most recent situation with respect to chemical contamination in the Boonsong Lekagul waterways.<br> Do you see any trends of possible interest in this investigation?  Your submission for this question should contain no more than 10 images and 1000 words.
      </p><br>
      <h2>Single view plot across for all chemicals across location and time</h2>
      <p>To capture the information regarding the presence of all the chemicals across the time frame and in all the locations, the horizontal map will be helpful in determining the initial chemicals to focus on, given there are over 100 various chemicals. The locations are mapped in the form of faucets. The size is the channel, marks is the point. Using the colour  
        channel was not helpful due to huge difference between min-max values and the points were not visible.Here the mark is point and size is a channel.It is justifiable to use
       this plot since its covers all the three attributes of time, location and count in one frame. </p><br>
       <p>Observing  discernible patterns in the  chemical presence  in all the locations,the following chemical were found to be through out the time period.</p>
       <style type="text/css">
           .tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
           .tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:0px;overflow:hidden;word-break:normal;}
           .tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:0px;overflow:hidden;word-break:normal;}
           .tg .tg-vt7v{background-color:#dae8fc;color:#000000;text-align:center;vertical-align:top}
           @media screen and (max-width: 767px) {.tg {width: auto !important;}.tg col {width: auto !important;}.tg-wrap {overflow-x: auto;-webkit-overflow-scrolling: touch;margin: auto 0px;}}</style>
           <div class="tg-wrap"><table class="tg">
             <tr>
               <td class="tg-vt7v">Ammonium</td>
               <td class="tg-vt7v">Cadmium</td>
               <td class="tg-vt7v">Chromium</td>
               <td class="tg-vt7v">Lead</td>
               <td class="tg-vt7v">Nitrates</td>
               <td class="tg-vt7v">Sulphates</td>
             </tr>
             <tr>
               <td class="tg-vt7v">Anionic Active surfactants</td>
               <td class="tg-vt7v">Chemical Oxygen Demand(Cr)</td>
               <td class="tg-vt7v">Copper</td>
               <td class="tg-vt7v">Fecal Coliforms</td>
               <td class="tg-vt7v">Orthophosphate Phosphorus</td>
               <td class="tg-vt7v">Total Colliforms</td>
             </tr>
             <tr>
               <td class="tg-vt7v">Bicarbonates</td>
               <td class="tg-vt7v">Chemical Oxygen Demand(Mn)</td>
               <td class="tg-vt7v">Dissolved Oxygen</td>
               <td class="tg-vt7v">Magnesium</td>
               <td class="tg-vt7v">Potassium</td>
               <td class="tg-vt7v">Total Phosphorus</td>
             </tr>
             <tr>
               <td class="tg-vt7v">Biochemical Oxygen</td>
               <td class="tg-vt7v">Chlorides</td>
               <td class="tg-vt7v">Iron</td>
               <td class="tg-vt7v">Nickel</td>
               <td class="tg-vt7v">Sodium</td>
               <td class="tg-vt7v">Zinc</td>
             </tr>
           </table></div>
           <p>Data for few other chemical compositions like Alachlor,Metolachlor,Dieldrin,Endrin,Oxygen Saturation,Total Dissolved Salts,Total Hardness,Aldrin are observed from year 2005 </p>
           <p>A few more important insights can be deduced from the charts </p>
    
                    <ul><li>Data for Decha,Tansanee,Achara are present from 2009 </li>
                       <li>Higher number of samples were collected from Boonsri,Chal,Kannika and Skada</li>
                   <li>An interesting pattern can be observed for Boonsri and Kohsoom.The 
                     following chemicals were found only in those areas in the years 2008 and 2009</li>
                     <style type="text/css">
                       .tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
                       .tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:0px;overflow:hidden;word-break:normal;}
                       .tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:0px;overflow:hidden;word-break:normal;}
                       .tg .tg-vt7v{background-color:#dae8fc;color:#000000;text-align:center;vertical-align:top}
                       @media screen and (max-width: 767px) {.tg {width: auto !important;}.tg col {width: auto !important;}.tg-wrap {overflow-x: auto;-webkit-overflow-scrolling: touch;margin: auto 0px;}}</style>
                       <div class="tg-wrap"><table class="tg">
                         <tr>
                           <td class="tg-vt7v">Isodrin</td>
                           <td class="tg-vt7v">Pyrene</td>
                           <td class="tg-vt7v">Phenanthrene</td>
                           <td class="tg-vt7v">Naphthalene</td>
                           <td class="tg-vt7v">Chrysene</td>
                           <td class="tg-vt7v">Benzo(a)anthracene</td>
                         </tr>
                         <tr>
                           <td class="tg-vt7v">Anthracene</td>
                           <td class="tg-vt7v">Acenaphthylene</td>
                           <td class="tg-vt7v">Acenaphthene</td>
                           <td class="tg-vt7v">Pentachlorobenzene</td>
                           <td class="tg-vt7v">1,2,4-Trichlorobenzene</td>
                           <td class="tg-vt7v">1,2,3-Trichlorobenzene</td>
                         </tr>
                       </table></div>
                    <li>Benzo(a)pyrene,Benzo(g,h,l)perylene,Benzo(b)fluoranthene, Benzo(k)fluoranthene,PCB are the aromatic 
                      hydro carbons which are used in Industrial units were found in traces near Boonsri and Kohsoom.</li>
                    <li>All the heavy metals are consistently present throughout the time period.</li>
                    <li>Water temperature seems to be recorded for all the locations regularly.</li>
                    </ul>
   
     <!-- Container for the visualization -->
     <div id="visa1" style="text-align:center;">
   
         <script>
         // Assign the specification to a local variable vlSpec.
         var vlSpeca1 = {
         "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
         "width": "",
         "height": "",
         "data": {
           "name": "file",
           "url": "file.csv"
         },
         "mark": "point",
         "encoding": {
           "x": {
             "timeUnit": "year",
             "field": "dates",
             "type": "temporal",
             "scale": {}
           },
           "y": {
             "field": "measure",
             "type": "nominal",
             "scale": {
               "rangeStep": 12
             },
             "sort": {"op": "mean", "field": "*"}
           },
           "column": {
             "field": "location",
             "type": "nominal"
           },
           "size": {
             "aggregate": "count",
             "field": "*",
             "type": "quantitative"
           }
         },
         "config": {
           "line": {
             "point": true
           },
           "scale": {
             "useUnaggregatedDomain": true
           }
         }
         }
                                 // Embed the visualization in the container with id `vis,
                                 vegaEmbed("#visa1", vlSpeca1);
                              
                     
                                 </script></div>
     <h3>Narrowing down on the Boonsri and Kohsoom.</h3>
     <p1>In the map shared by the Hydrology Department, the places near the point of approximate dumping are Boonsri and Kohsoom. 
       Initial hypothesis would be to determine if there are any trends that can help to prove the hypothesis.</p1>
          <h1>Plotting polutants for Kohsoom And Boonsri.</h1>
          <div>
          <table id="t01" style="margin-left: auto; margin-right: auto;">
             <tbody>
                       <tr>
       <div id="vish1" style="text-align:center;">
     
       <script>
       // Assign the specification to a local variable vlSpec.
       var vlSpech1 = {
       "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
       "width": 500,
       "height": 80,
       
       "data": {
         "name": "file",
         "url": "file.csv"
       },
       "mark": "line",
       "encoding": {
         "x": {
           
           "field": "dates",
           "type": "temporal",
           "scale": {}
         },
         "y": {
           "aggregate": "mean",
           "field": "value",
           "type": "quantitative"
         },
         "column": {
           "field": "location",
           "type": "nominal",
           "title": "AOX"
         }
       },
       "config": {
         "line": {
           "point": false
         },
         "scale": {
           "useUnaggregatedDomain": true
         }
       },
       "transform": [
         {
           "filter": {
             "field": "location",
             "oneOf": [
               "Boonsri",
               "Kohsoom"
             ]
           }
         },
         {
           "filter": {
             "field": "measure",
             "oneOf": [
               "AOX"
             ]
           }
         }
       ]
               }
                 
               
                 // Embed the visualization in the container with id `vis,
                 vegaEmbed("#vish1", vlSpech1);
              
     
                 </script></div>
     </tr>
     <tr>
             <div id="vish2" style="text-align:center;">
     
                     <script>
                     // Assign the specification to a local variable vlSpec.
                     var vlSpech2 = {
                     "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
                     "width": 500,
                     "height": 80,
                     "data": {
         "name": "file",
         "url": "file.csv"
       },
       "mark": "line",
       "encoding": {
         "x": {
           
           "field": "dates",
           "type": "temporal",
           "scale": {}
         },
         "y": {
           "aggregate": "mean",
           "field": "value",
           "type": "quantitative"
         },
         "column": {
           "field": "location",
           "type": "nominal",
           "title": "Total Organic Carbon"
         }
       },
       "config": {
         "line": {
           "point": false
         },
         "scale": {
           "useUnaggregatedDomain": true
         }
       },
       "transform": [
         {
           "filter": {
             "field": "location",
             "oneOf": [
               "Boonsri",
               "Kohsoom"
             ]
           }
         },
         {
           "filter": {
             "field": "measure",
             "oneOf": [
               "Total organic carbon"
             ]
           }
         }
       ]
                             }
                               
                             
                               // Embed the visualization in the container with id `vis,
                               vegaEmbed("#vish2", vlSpech2);
                            
                   
                               </script></div>
     </tr>
     <tr>
     
             <div id="vish3" style="text-align:center;">
     
                     <script>
                     // Assign the specification to a local variable vlSpec.
                     var vlSpech3 = {
                     "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
                     "width": 500,
                     "height": 80,
                     "data": {
         "name": "file",
         "url": "file.csv"
       },
       "mark": "line",
       "encoding": {
         "x": {
           
           "field": "dates",
           "type": "temporal",
           "scale": {}
         },
         "y": {
           "aggregate": "mean",
           "field": "value",
           "type": "quantitative"
         },
         "column": {
           "field": "location",
           "type": "nominal",
           "title": "Pyrene"
         }
       },
       "config": {
         "line": {
           "point": false
         },
         "scale": {
           "useUnaggregatedDomain": true
         }
       },
       "transform": [
         {
           "filter": {
             "field": "location",
             "oneOf": [
               "Boonsri",
               "Kohsoom"
             ]
           }
         },
         {
           "filter": {
             "field": "measure",
             "oneOf": [
               "Aldrin"
             ]
           }
         }
       ]
                             }
                               
                             
                               // Embed the visualization in the container with id `vis,
                               vegaEmbed("#vish3", vlSpech3);
                            
                   
                               </script></div>
     
     </tr>
     <tr>
             <div id="vish4" style="text-align:center;">
     
                     <script>
                     // Assign the specification to a local variable vlSpec.
                     var vlSpech4 = {
                     "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
                     "width": 500,
                     "height": 80,
                     
                     "data": {
         "name": "file",
         "url": "file.csv"
       },
       "mark": "line",
       "encoding": {
         "x": {
           
           "field": "dates",
           "type": "temporal",
           "scale": {}
         },
         "y": {
           "aggregate": "mean",
           "field": "value",
           "type": "quantitative"
         },
         "column": {
           "field": "location",
           "type": "nominal",
           "title": "Zinc"
         }
       },
       "config": {
         "line": {
           "point": false
         },
         "scale": {
           "useUnaggregatedDomain": true
         }
       },
       "transform": [
         {
           "filter": {
             "field": "location",
             "oneOf": [
               "Boonsri",
               "Kohsoom"
             ]
           }
         },
         {
           "filter": {
             "field": "measure",
             "oneOf": [
               "Zinc"
             ]
           }
         }
       ]
                             }
                               
                             
                               // Embed the visualization in the container with id `vis,
                               vegaEmbed("#vish4", vlSpech4);
                            
                   
                               </script></div>
     </tr>
     
     
     </tbody></table></div>      
          <p1>The plot shows:
               <ol><li> The levels of AOX at Kohsoom and Boonsri follow a similar trend with a sudden spike in 2010 in tthe areas. </li>
                   <li>The similarity in the total carbon levels indicated that artificial induction of hydro carbons.</li>
               <li> Overall from the matching spikes in hydrocarbons and other metals like Zinc,an implication can be made that indeed there was a dumping site.
                 near Kohsoom and Boonsri.
               </li>
          </p1>
   <p1>The line chart used has line as mark which is very helpful in find and comparing trends of different attributes. </p1>
   <div>
          <h1>Plotting Toxic Heavy Metals</h1>
          <p1>The presence of heavy metals in the water can be termed as hazardous.
            Metals like Iron, Zinc, Copper, Chromium, Manganese are required for biological metabolism
            in trace amounts; However, their higher dose may cause toxic effects. 
            Other metals , such as Lead, Mercury,Cadmium and Nickel are not suitable for biological functions and are positively toxic.
           
     </p1>
     <p>The following plot is using all the locations as column wise faucets in  and mapped across the time period,which is effective
       in getting insights at one go where line is a mark.  </p>
     <table id="t02" style="margin-left: auto; margin-right: auto;">
         <tbody>
                   <tr>
   <div id="visat1" style="text-align:center;">
   
   <script>
   // Assign the specification to a local variable vlSpec.
   var vlSpecat1 = {
   "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
   "width": 110,
   "height": 80,
   
   "data": {
     "name": "Iron",
     "url": "Iron.csv"
   },
   "mark": "line",
   "encoding": {
     "x": {
       "field": "dates",
       "type": "temporal",
       "scale": {}
     },
     "y": {
       "aggregate": "mean",
       "field": "value",
       "type": "quantitative"
     },
     "column": {
       "field": "location",
       "type": "nominal",
       "title": "Lead"
     }
   },
   "config": {
     "line": {
       "point": false
     },
     "scale": {
       "useUnaggregatedDomain": true
     }
   },
   "transform": [
     {
       "filter": {
         "field": "measure",
         "oneOf": [
           "Iron"
         ]
       }
     }
   ]
           }
             
           
             // Embed the visualization in the container with id `vis,
             vegaEmbed("#visat1", vlSpecat1);
          
   
             </script></div>
   </tr>
   
   <tr>
         <div id="visat4" style="text-align:center;">
   
                 <script>
                 // Assign the specification to a local variable vlSpec.
                 var vlSpecat4 = {
                 "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
                 "width": 110,
                 "height": 80,
                 
                 "data": {
                   "name": "Magnesium",
                   "url": "Magnesium.csv"
                 },
                 "mark": "line",
                 "encoding": {
                   "x": {
                     "field": "dates",
                     "type": "temporal",
                     "scale": {}
                   },
                   "y": {
                     "aggregate": "mean",
                     "field": "value",
                     "type": "quantitative"
                   },
                   "column": {
                     "field": "location",
                     "type": "nominal",
                     "title": "Cadmium"
                   }
                 },
                 "config": {
                   "line": {
                     "point": false
                   },
                   "scale": {
                     "useUnaggregatedDomain": true
                   }
                 },
                 "transform": [
                   {
                     "filter": {
                       "field": "measure",
                       "oneOf": [
                         "Magnesium"
                       ]
                     }
                   }
                 ]
                         }
                           
                         
                           // Embed the visualization in the container with id `vis,
                           vegaEmbed("#visat4", vlSpecat4);
                        
               
                           </script></div>
   </tr>
   
   <tr>
         <div id="visat6" style="text-align:center;">
   
                 <script>
                 // Assign the specification to a local variable vlSpec.
                 var vlSpecat6 = {
                 "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
                 "width": 110,
                 "height": 80,
                 
                 "data": {
                   "name": "Mercury",
                   "url": "Mercury.csv"
                 },
                 "mark": "line",
                 "encoding": {
                   "x": {
                     "field": "dates",
                     "type": "temporal",
                     "scale": {}
                   },
                   "y": {
                     "aggregate": "mean",
                     "field": "value",
                     "type": "quantitative"
                   },
                   "column": {
                     "field": "location",
                     "type": "nominal",
                     "title": "Mercury"
                   }
                 },
                 "config": {
                   "line": {
                     "point": false
                   },
                   "scale": {
                     "useUnaggregatedDomain": true
                   }
                 },
                 "transform": [
                   {
                     "filter": {
                       "field": "measure",
                       "oneOf": [
                         "Mercury"
                       ]
                     }
                   }
                 ]
                         }
                           
                         
                           // Embed the visualization in the container with id `vis,
                           vegaEmbed("#visat6", vlSpecat6);
                        
               
                           </script></div> 
   </tr>
   
   
   <tr>
   
         <div id="visat9" style="text-align:center;">
   
                 <script>
                 // Assign the specification to a local variable vlSpec.
                 var vlSpecat9 = {
                 "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
                 "width": 110,
                 "height": 80,
                 
                 "data": {
                   "name": "Nickel",
                   "url": "Nickel.csv"
                 },
                 "mark": "line",
                 "encoding": {
                   "x": {
                     "field": "dates",
                     "type": "temporal",
                     "scale": {}
                   },
                   "y": {
                     "aggregate": "mean",
                     "field": "value",
                     "type": "quantitative"
                   },
                   "column": {
                     "field": "location",
                     "type": "nominal",
                     "title": "Nickel"
                   }
                 },
                 "config": {
                   "line": {
                     "point": false
                   },
                   "scale": {
                     "useUnaggregatedDomain": true
                   }
                 },
                 "transform": [
                   {
                     "filter": {
                       "field": "measure",
                       "oneOf": [
                         "Nickel"
                       ]
                     }
                   }
                 ]
                         }
                           
                         
                           // Embed the visualization in the container with id `vis,
                           vegaEmbed("#visat9", vlSpecat9);
                        
               
                           </script></div>
   
   </tr>
   </tbody></table>
   </br>
   <p1>Interesting patterns can be observed from plot. </p1><br>
   <ol>
     <li>Kohsoom had high values for all the four metal during the period of 2005-2007 and again spikes are been observed after 2010.</li>
     <li>Tansanee is showing interesting for Cadmium after 2010.</li>
     <li>Somchair had higher values of Lead and Nickel in the begining years of 2000.</li>
     <li>Decha is showing higher values In lead and Nickel recently</li>
     <li>The spike trend for Kohsoom and Boonsri is almost similar which supports the 
       intial argument made about the possible location of dumping site.</li>
   </ol>
   
   </div>
   
   <h1>Observing  Trends In Tansanee</h1>
   
   <p>It can be observed that other water properties/chemicals such as Chemical Oxygen Demand , Chlorides and Sulphates at 
     Tansanee show a distinct higher baseline.The boxplot used here will effectively be able to identify the base line concentration of the value
   excluding the outliers</p>
   <!-- Container for the visualization -->
   <div id="vis7">
   
   <script>
   // Assign the specification to a local variable vlSpec.
   var vlSpec7 = {
   "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
   "description": "A vertical 2D box plot showing median, min, and max in the US population distribution of age groups in 2000.",
   "width": 1100,
   "height": 200,
   "data": {
         "name": "file",
         "url": "file.csv"
       },
   "mark": {
   "type": "boxplot",
   "extent": 1.5
   },
   "encoding": {
   "y": {"field": "location","type": "ordinal"},
   "x": {
   "field": "value",
   "type": "quantitative",
   "axis": {"title": ""}
   },
   "row": {
   "field": "measure",
   "type": "nominal"
   },
   "size": {"value": 4}
   
   },
   
   "transform": [
         {
           "filter": {
             "field": "measure",
             "oneOf": [
               "Chemical Oxygen Demand (Cr)",
               "Chlorides",
               "Sulphates"
   
             ]
           }
         }
       ]
   }
   
   
   // Embed the visualization in the container with id `vis,
   vegaEmbed("#vis7", vlSpec7);
   </script></div>
   <h4>Observing important chemicals across the time and locations.</h4>
   <p>For the following plots line chart is used which would make it easier to observe amd identify, trends and patterns.</p>
       <h3>Trends in Total Nitrogen</h3>
       <p>Presence of higher nitrogen level signifies that the industrial wastes is getting released into the water some where near by.
         Kohsoom and Tansanee are showing clear uptrend and it is  visible  during the period of July 2014 to June 2015  </p>
       <h1>Total Nitrogen trends</h1>
       <div id="vis6">
      
               <script>
               // Assign the specification to a local variable vlSpec.
               var vlSpec6 = {
               "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
               "width": 1100,
               "height": 45,
               "data": {
                 "name": "file",
                 "url": "file.csv"
               },
               "mark": "line",
               "encoding": {
                 "y": {
                   "aggregate": "",
                   "field": "value",
                   "type": "quantitative",
                   "title": "",
                   "scale": {
                     "type": "sqrt"
                   }
                 },
                 "x": {
                   "timeUnit": "yearmonthdate",
                   "field": "dates",
                   "type": "temporal",
                   "scale": {}
                 },
                 "color": {
                   "field": "location",
                   "type": "nominal"
                 },
                 "row": {
                   "field": "location",
                   "type": "nominal"
                 }
               },
               "config": {
                 "line": {
                   "point": false
                 },
                 "scale": {
                   "useUnaggregatedDomain": true
                 }
               },
               "transform": [
                 {
                   "filter": {
                     "field": "measure",
                     "oneOf": [
                       "Total nitrogen"
                     ]
                   }
                 }
               ]
             }
               
             
               // Embed the visualization in the container with id `vis,
               vegaEmbed("#vis6", vlSpec6);
               </script></div>
          <!-- Container for the visualization -->
          <h3>Anionic Active Surfactants</h3>
          <p>All other locations have been dormant in the same time-period whereas it is quite evident that the 
            concentration of Anionic active surfactants is increasing in the year 2015 nearer to Kohsoom and also in the site Boonsri,
             which are nearer to the dumping site.</p>  
              
              <!-- Container for the visualization -->
              <div id="vis2">
            
              <script>
              // Assign the specification to a local variable vlSpec.
              var vlSpec2 = {
              "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
              "width": 1100,
              "height": 45,
              "data": {
                "name": "file",
                "url": "file.csv"
              },
              "mark": "line",
              "encoding": {
                "y": {
                  "aggregate": "avg",
                  "field": "value",
                  "type": "quantitative",
                  "title": "",
                  "scale": {
                    "type": ""
                  }
                },
                "x": {
                  "timeUnit": "yearmonthdate",
                  "field": "dates",
                  "type": "temporal",
                  "scale": {}
                },
                "color": {
                  "field": "location",
                  "type": "nominal"
                },
                "row": {
                  "field": "location",
                  "type": "nominal"
                }
              },
              "config": {
                "line": {
                  "point": false
                },
                "scale": {
                  "useUnaggregatedDomain": true
                }
              },
              "transform": [
                {
                  "filter": {
                    "field": "measure",
                    "oneOf": [
                      "Anionic active surfactants"
                    ]
                  }
                }
              ]
            }
              
            
              // Embed the visualization in the container with id `vis,
              vegaEmbed("#vis2", vlSpec2);
              </script></div>
   
          <h1>Ammonium</h1>    
          <p>The Ammonium has the same trend for all the other sites except for the Kohsoom and Tansanee.
            The uptrend in both the sites is observed after 2013.  </p>
          <div id="vis1">
        
          <script>
          // Assign the specification to a local variable vlSpec.
          var vlSpec1 = {
          "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
          "width": 1100,
          "height": 45,
          "data": {
            "name": "file",
            "url": "file.csv"
          },
          "mark": "line",
          "encoding": {
            "y": {
              "aggregate": "avg",
              "field": "value",
              "type": "quantitative",
              "title": "",
              "scale": {
                "type": "sqrt"
              }
            },
            "x": {
              "timeUnit": "yearmonthdate",
              "field": "dates",
              "type": "temporal",
              "scale": {}
            },
            "color": {
              "field": "location",
              "type": "nominal"
            },
            "row": {
              "field": "location",
              "type": "nominal"
            }
          },
          "config": {
            "line": {
              "point": true
            },
            "scale": {
              "useUnaggregatedDomain": true
            }
          },
          "transform": [
            {
              "filter": {
                "field": "measure",
                "oneOf": [
                  "Ammonium"
                ]
              }
            }
          ]
        }
       
        
          // Embed the visualization in the container with id `vis,
          vegaEmbed("#vis1", vlSpec1);
          </script></div>
   <p>By stepping through the chemical filters, we infer higher baselines at Kohsoom are also found for Orthophosphorus-Phosphorus with peaks in December 2013.
           Total Phosphorus as well, follows a very similar uptrend at Kohsoom, with an average twice over the baseline of all other locations.</p><br>
   
   <h3>Chlorodinine</h3>
   <p>The levels of Chlorodinine have all significantly dropped in recent years. Despite a uniform drop across all locations, Kohsoom alone experiences a spike 
       in it in June 2016 as seen below</p>
       <h1>Chlorodinine trends in recent years</h1>
       <div id="vis3">
      
               <script>
               // Assign the specification to a local variable vlSpec.
               var vlSpec3 = {
               "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
               "width": 1100,
               "height": 45,
               "data": {
                 "name": "file",
                 "url": "file.csv"
               },
               "mark": "line",
               "encoding": {
                 "y": {
                   "aggregate": "",
                   "field": "value",
                   "type": "quantitative",
                   "title": "",
                   "scale": {
                     "type": "sqrt"
                   }
                 },
                 "x": {
                   "timeUnit": "yearmonthdate",
                   "field": "dates",
                   "type": "temporal",
                   "scale": {}
                 },
                 "color": {
                   "field": "location",
                   "type": "nominal"
                 },
                 "row": {
                   "field": "location",
                   "type": "nominal"
                 }
               },
               "config": {
                 "line": {
                   "point": true
                 },
                 "scale": {
                   "useUnaggregatedDomain": true
                 }
               },
               "transform": [
                 {
                   "filter": {
                     "field": "measure",
                     "oneOf": [
                       "Chlorodinine"
                     ]
                   }
                 }
               ]
             }
               
             
               // Embed the visualization in the container with id `vis,
               vegaEmbed("#vis3", vlSpec3);
               </script></div>
               <h3>Magnesium</h3>
               <p>Magnesium is one the toxic metal that can be found in contaminated water polluted by the industrial waste.
                 In all the six regions of Boonsri,Busarkhan,Chai,Kannika,Kohsoom and Somchair,an uptrend is observed afer Feb 2011.
   
               </p>
               <h1>Magnesium trends</h1>
               <div id="vis4">
      
                       <script>
                       // Assign the specification to a local variable vlSpec.
                       var vlSpec4 = {
                       "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
                       "width": 1100,
                       "height": 45,
                       "data": {
                         "name": "file",
                         "url": "file.csv"
                       },
                       "mark": "line",
                       "encoding": {
                         "y": {
                           "aggregate": "",
                           "field": "value",
                           "type": "quantitative",
                           "title": "",
                           "scale": {
                             "type": "sqrt"
                           }
                         },
                         "x": {
                           "timeUnit": "yearmonthdate",
                           "field": "dates",
                           "type": "temporal",
                           "scale": {}
                         },
                         "color": {
                           "field": "location",
                           "type": "nominal"
                         },
                         "row": {
                           "field": "location",
                           "type": "nominal"
                         }
                       },
                       "config": {
                         "line": {
                           "point": true
                         },
                         "scale": {
                           "useUnaggregatedDomain": true
                         }
                       },
                       "transform": [
                         {
                           "filter": {
                             "field": "measure",
                             "oneOf": [
                               "Magnesium"
                             ]
                           }
                         }
                       ]
                     }
                       
                     
                       // Embed the visualization in the container with id `vis,
                       vegaEmbed("#vis4", vlSpec4);
                       </script></div>
   
   
   
   <h3>The seasonal nature of Water Temperature.</h3>
   <p>It can be observed that the temperature of water goes up by 4-5 C during the months of June, 
       July and August throughout the waterways.Here the months are used as faucets which averages 
       the value accordingly.</p>
   
       
         <h1>Water Temperature in Seasonal Pattern</h1>
       
         <!-- Container for the visualization -->
         <div id="vis8">
       
         <script>
         // Assign the specification to a local variable vlSpec.
         var vlSpec8 = {
           "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
         
         "width": 100,
         "height": 400,
         "data": {
                     "name": "water",
                     "url": "water.csv"
                   },
         "mark": "line",
         "encoding": {
           "x": {
             "timeUnit": "year",
             "field": "dates",
             "type": "temporal",
             "scale": {}
           },
           "y": {
             "field": "value",
             "aggregate": "mean",
             "type": "quantitative",
             "scale": {}
           },
           "column": {
             "timeUnit": "month",
             "field": "dates",
             "type": "temporal"
           }
         },
         "config": {
           "line": {
             "point": true
           },
           "scale": {
             "useUnaggregatedDomain": true
           }
         },
         "transform": [
           {
             "filter": {
               "field": "measure",
               "oneOf": [
                 "Water temperature"
               ]
             }
           }
         ]
       }
         
       
         // Embed the visualization in the container with id `vis,
         vegaEmbed("#vis8", vlSpec8);
         </script></div>
   <p>After Observing a number of plots it can be inferred that the dumping site was indeed in
       Kohsoom and the recent uptrends in Tansanee suggest that a new dumping site is create some where around Tansanee.</p></br>
            </body>
</html>